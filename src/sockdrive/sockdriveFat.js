/*! For license information please see sockdriveFat.js.LICENSE.txt */
(()=>{var e={742:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=a(e),s=o[0],u=o[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,u)),f=0,c=u>0?s-4:s;for(r=0;r<c;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[f++]=t>>16&255,l[f++]=t>>8&255,l[f++]=255&t;return 2===u&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[f++]=255&t),1===u&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[f++]=t>>8&255,l[f++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,l=n-i;a<l;a+=s)o.push(u(e,a,a+s>l?l:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},764:(e,t,r)=>{"use strict";const n=r(742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=a(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return f(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(J(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return X(H(t,e.length-r),e,r,n)}function S(e,t,r,n){return X(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return X($(t),e,r,n)}function R(e,t,r,n){return X(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=B));return r}(n)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return c(e)},u.allocUnsafeSlow=function(e){return c(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),l=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<a;++e)if(l[e]!==f[e]){o=l[e],s=f[e];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function O(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Q[e[n]];return i}function k(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n,i){W(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function x(e,t,r,n,i){W(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function P(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,o){return t=+t,r>>>=0,o||P(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,o){return t=+t,r>>>=0,o||P(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=K((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=K((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=K((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=K((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||F(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||F(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=K((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=K((function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);F(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);F(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=K((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=K((function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const D={};function z(e,t,r){D[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function W(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||G(t,e.length-(r+1))}(n,i,o)}function q(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,r){if(Math.floor(e)!==e)throw q(e,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function $(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function K(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,o,s,l;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=s.length,l=f,console&&console.warn&&console.warn(l)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else{var l=u.length,f=p(u,l);for(r=0;r<l;++r)n(f[r],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,c(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,c(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},521:(e,t,r)=>{var n=r(155);e.exports=function(){var e={},t=[];function r(){t[0]((function(){t.shift(),t.length&&r()}))}return e.acquire=function(e){1===t.push(e)&&n.nextTick(r)},e.TRANSACTION_WRAPPER=function(t,r,i){if(i)return n.nextTick(r),t;var o;"postAcquire"in this&&(r=this.postAcquire.bind(e,r)),e.acquire((function(e){o=e,r()}));var s,a="preRelease"in this?this.preRelease.bind(e,u):u;function u(){s(),o()}return function(){s=Function.prototype.apply.bind(t,this,arguments),a.call(null,Array.prototype.slice.call(arguments,0),this)}},e}},645:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,l=u>>1,f=-7,c=r?i-1:0,h=r?-1:1,d=e[t+c];for(c+=h,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+c],c+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+c],c+=h,f-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=l}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,l=8*o-i-1,f=(1<<l)-1,c=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*u-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[r+d]=255&s,d+=p,s/=256,l-=8);e[r+d-p]|=128*y}},717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},155:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,u=[],l=!1,f=-1;function c(){l&&a&&(l=!1,a.length?u=a.concat(u):f=-1,u.length&&h())}function h(){if(!l){var e=s(c);l=!0;for(var t=u.length;t;){for(a=u,u=[];++f<t;)a&&a[f].run();f=-1,t=u.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},281:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,s,a,u;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var l=("number"!=typeof u&&(u=0),u+1>(a=e).length||-1===a.indexOf(".",u)?"argument":"property");s='The "'.concat(e,'" ').concat(l," ").concat(i," ").concat(n(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},753:(e,t,r)=>{"use strict";var n=r(155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(481),s=r(229);r(717)(f,o);for(var a=i(s.prototype),u=0;u<a.length;u++){var l=a[u];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},725:(e,t,r)=>{"use strict";e.exports=i;var n=r(605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},481:(e,t,r)=>{"use strict";var n,i=r(155);e.exports=T,T.ReadableState=R,r(187).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=r(503),u=r(764).Buffer,l=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(616);o=f&&f.debuglog?f.debuglog("stream"):function(){};var c,h,d,p=r(327),y=r(195),g=r(457).getHighWaterMark,b=r(281).q,m=b.ERR_INVALID_ARG_TYPE,v=b.ERR_STREAM_PUSH_AFTER_EOF,w=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(717)(T,a);var S=y.errorOrDestroy,E=["error","close","destroy","pause","resume"];function R(e,t,i){n=n||r(753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(553).s),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function T(e){if(n=n||r(753),!(this instanceof T))return new T(e);var t=this instanceof n;this._readableState=new R(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function A(e,t,r,n,i){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,k(e)))}}(e,a);else if(i||(s=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)S(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)a.endEmitted?S(e,new _):B(e,a,t,!0);else if(a.ended)S(e,new v);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?B(e,a,t,!1):L(e,a)):B(e,a,t,!1)}else n||(a.reading=!1,L(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function B(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&C(e)),L(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=y.destroy,T.prototype._undestroy=y.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),A(this,e,t,!1,r)},T.prototype.unshift=function(e){return A(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){c||(c=r(553).s);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(k,e))}function k(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function L(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(F,e,t))}function F(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function x(e){o("readable nexttick read 0"),e.read(0)}function P(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(z,t,e))}function z(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):C(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?M(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){S(this,new w("_read()"))},T.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===i.stdout||e===i.stderr?y:u;function u(){o("onend"),e.end()}n.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",(function t(i,s){o("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",c),f=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,U(e))}}(r);e.on("drain",l);var f=!1;function c(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j(n.pipes,e))&&!f&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){o("onerror",t),y(),e.removeListener("error",h),0===s(e,"error")&&S(e,t)}function d(){e.removeListener("finish",p),y()}function p(){o("onfinish"),e.removeListener("close",d),y()}function y(){o("unpipe"),r.unpipe(e)}return r.on("data",c),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?C(this):n.reading||i.nextTick(x,this))),r},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(N,this),r},T.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(N,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(P,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(850)),h(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=M,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(e,t){return void 0===d&&(d=r(167)),d(T,e,t)})},605:(e,t,r)=>{"use strict";e.exports=f;var n=r(281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(753);function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(717)(f,u),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,r){r(new i("_transform()"))},f.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},229:(e,t,r)=>{"use strict";var n,i=r(155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=T,T.WritableState=R;var s,a={deprecate:r(927)},u=r(503),l=r(764).Buffer,f=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=r(195),h=r(457).getHighWaterMark,d=r(281).q,p=d.ERR_INVALID_ARG_TYPE,y=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,b=d.ERR_STREAM_CANNOT_PIPE,m=d.ERR_STREAM_DESTROYED,v=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,S=c.errorOrDestroy;function E(){}function R(e,t,s){n=n||r(753),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(k,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),k(e,t))}(e,r,n,t,o);else{var s=I(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||O(e,r),n?i.nextTick(B,e,r,s,o):B(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function T(e){var t=this instanceof(n=n||r(753));if(!t&&!s.call(T,this))return new T(e);this._writableState=new R(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function A(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function B(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),k(e,t)}function O(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,A(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,f=r.encoding,c=r.callback;if(A(e,t,!1,t.objectMode?1:l.length,l,f,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function k(e,t){var r=I(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(717)(T,u),R.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(R.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===T&&e&&e._writableState instanceof R}})):s=function(e){return e instanceof this},T.prototype.pipe=function(){S(this,new b)},T.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=e,l.isBuffer(n)||n instanceof f);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;S(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o;return null===r?o=new v:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,a,n,i,o);return u}(this,o,a,e,t,r)),s},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new y("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,k(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=c.destroy,T.prototype._undestroy=c.undestroy,T.prototype._destroy=function(e,t){t(e)}},850:(e,t,r)=>{"use strict";var n,i=r(155);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(610),a=Symbol("lastResolve"),u=Symbol("lastReject"),l=Symbol("error"),f=Symbol("ended"),c=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function y(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[c]=null,e[a]=null,e[u]=null,t(p(r,!1)))}}function g(e){i.nextTick(y,e)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[d]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[f])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[l]?r(e[l]):t(p(void 0,!0))}))}));var r,n=this[c];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[f]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[h])}return this[c]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(m,(o(t={},d,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,f,{value:e._readableState.endEmitted,writable:!0}),o(t,h,{value:function(e,t){var n=r[d].read();n?(r[c]=null,r[a]=null,r[u]=null,e(p(n,!1))):(r[a]=e,r[u]=t)},writable:!0}),t));return r[c]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[c]=null,r[a]=null,r[u]=null,t(e)),void(r[l]=e)}var n=r[a];null!==n&&(r[c]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[f]=!0})),e.on("readable",g.bind(null,r)),r}},327:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var u=r(764).Buffer,l=r(361).inspect,f=l&&l.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t,r,n,i=u.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,u.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:f,value:function(e,t){return l(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},195:(e,t,r)=>{"use strict";var n=r(155);function i(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},610:(e,t,r)=>{"use strict";var n=r(281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||f()},l=t._writableState&&t._writableState.finished,f=function(){a=!1,l=!0,s||o.call(t)},c=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,c=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!c?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},y=function(){t.req.on("finish",f)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",f),t.on("abort",p),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",h),t.on("finish",f),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}},167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},946:(e,t,r)=>{"use strict";var n,i=r(281).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var f,c=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var h=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(610)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){f||(f=e),e&&h.forEach(u),o||(h.forEach(u),c(f))}))}));return t.reduce(l)}},457:(e,t,r)=>{"use strict";var n=r(281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},503:(e,t,r)=>{e.exports=r(187).EventEmitter},509:(e,t,r)=>{var n=r(764),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},830:(e,t,r)=>{e.exports=i;var n=r(187).EventEmitter;function i(){n.call(this)}r(717)(i,n),i.Readable=r(481),i.Writable=r(229),i.Duplex=r(753),i.Transform=r(605),i.PassThrough=r(725),i.finished=r(610),i.pipeline=r(946),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("error",l),e.on("error",l),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}},553:(e,t,r)=>{"use strict";var n=r(509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=f,this.end=c,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},952:(e,t,r)=>{var n=r(764).Buffer,i={};function o(e,t){var r=e.length-t;return r>=4?e.readUInt32BE(t):3===r?(e.readUInt16BE(t)<<8)+e.readUInt8(t+2)<<8>>>0:2===r?e.readUInt16BE(t)<<16>>>0:1===r?e.readUInt8(t)<<24>>>0:r<=0?0:void 0}function s(e){return n.alloc?n.alloc(e):new n(e)}function a(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){Object.keys(t).forEach((function(r){e[r]=t[r]}))})),e}function u(e,t){if("width"in t)for(e.bits=(e.bits||0)+t.width;e.bits>7;)e.bytes+=1,e.bits-=8;else{if(e.bits)throw Error("Improperly aligned bitfield before field: "+t.name);e.bytes+=t.size}return e}function l(e,t){var r="number"==typeof t?a({name:e.name,field:e,valueFromBytes:function(r,n){n||(n={bytes:0,bits:0});for(var i=new Array(t),o=0,s=i.length;o<s;o+=1)i[o]=e.valueFromBytes(r,n);return i},bytesFromValue:function(r,n,i){r||(r=new Array(t)),n||(n=s(this.size)),i||(i={bytes:0,bits:0});for(var o=0,a=Math.min(r.length,t);o<a;o+=1)e.bytesFromValue(r[o],n,i);for(;o++<t;)u(i,e);return n}},"width"in e?{width:e.width*t}:{size:e.size*t}):e;return r.pack=r.bytesFromValue,r.unpack=r.valueFromBytes,r}i.struct=function(e,t,r){"string"!=typeof e&&(r=t,t=e,e=null);var n={bytes:0,bits:0},i=Object.create(null),o=t.reduce((function(e,t,r){if("_padTo"in t){t._id||(t._id="id"+Math.random().toFixed(20).slice(2));var o=i[t._id]=n.bits?{width:8*(t._padTo-n.bytes)-n.bits}:{size:t._padTo-n.bytes};if(o.width<0||o.size<0){var s=n.bits?" and "+n.bits+" bits":"";throw Error("Invalid .padTo("+t._padTo+") field, struct is already "+n.bytes+" byte(s)"+s+"!")}t=o}else t._hoistFields?Object.keys(t._hoistFields).forEach((function(r){var i=Object.create(t._hoistFields[r]);"width"in i?i.offset={bytes:i.offset.bytes+n.bytes,bits:i.offset.bits}:i.offset+=n.bytes,e[r]=i})):t.name&&((t=Object.create(t)).offset="width"in t?{bytes:n.bytes,bits:n.bits}:n.bytes,e[t.name]=t);return u(n,t),e}),{});if(n.bits)throw Error("Improperly aligned bitfield at end of struct: "+e);return l({valueFromBytes:function(e,r){r||(r={bytes:0,bits:0});var n=new Object;return t.forEach((function(t){if("_padTo"in t)return u(r,i[t._id]);var o=t.valueFromBytes(e,r);t.name?n[t.name]=o:"object"==typeof o&&a(n,o)})),n},bytesFromValue:function(e,r,n){return e||(e={}),r||(r=s(this.size)),n||(n={bytes:0,bits:0}),t.forEach((function(t){if("_padTo"in t)return u(n,i[t._id]);var o=t.name?e[t.name]:e;t.bytesFromValue(o,r,n)})),r},_hoistFields:e?null:o,fields:o,size:n.bytes,name:e},r)},i.padTo=function(e){return{_padTo:e}};var f=4294967295;function c(e,t,r){if(t||(t=1),t>24)throw Error("Bitfields support a maximum width of 24 bits.");var n=this,i=f>>>32-t;return l({valueFromBytes:function(e,r){r||(r={bytes:0,bits:0});var s=(r.bits||0)+t,a=(o(e,r.bytes)||0)>>>32-s;return u(r,this),n.b2v.call(this,a&i)},bytesFromValue:function(e,r,s){e=n.v2b.call(this,e||0),s||(s={bytes:0,bits:0});var a,l,f,c,h=(s.bits||0)+t,d=o(r,s.bytes)||0;return d&=~(i<<32-h),d|=(e&i)<<32-h,d>>>=0,a=r,l=s.bytes,f=d,(c=a.length-l)>=4?a.writeUInt32BE(f,l):3===c?(a.writeUInt16BE(f>>>16,l),a.writeUInt8(f>>>8&255,l+2)):2===c?a.writeUInt16BE(f>>>16,l):1===c&&a.writeUInt8(f>>>24,l),u(s,this),r},width:t,name:e},r)}function h(e,t){for(var r=0;t--;)r<<=1,r|=1&e,e>>>=1;return r}function d(e,t,r){"string"!=typeof e&&(r=t,t=e,e=null);var n=this;return l({valueFromBytes:function(e,t){t||(t={bytes:0,bits:0});var r=e.slice(t.bytes,t.bytes+this.size);return u(t,this),n.b2v.call(this,r)},bytesFromValue:function(e,t,r){r||(r={bytes:0}),t||(t=s(this.size));var i=t.slice(r.bytes,r.bytes+this.size),o=n.vTb.call(this,e,i);return o<i.length&&i.fill(0,o),u(r,this),t},size:t="number"==typeof t?t:1,name:e},r)}function p(e,t){t=t||e;for(var r=e.length,n=1;n<r;n+=2){var i=e[n-1];t[n-1]=e[n],t[n]=i}return t}function y(e,t){var r="read"+e,n="write"+e;return t||(t=+e.match(/\d+/)[0]>>3),function(e,i){return"string"!=typeof e&&(i=e,e=null),l({valueFromBytes:function(e,t){t||(t={bytes:0});var n=e[r](t.bytes);return u(t,this),n},bytesFromValue:function(e,t,r){return e||(e=0),t||(t=s(this.size)),r||(r={bytes:0}),t[n](e,r.bytes),u(r,this),t},size:t,name:e},i)}}i.bool=function(e,t){return c.call({b2v:function(e){return Boolean(e)},v2b:function(e){return e?f:0}},e,1,t)},i.ubit=c.bind({b2v:function(e){return e},v2b:function(e){return e}}),i.ubitLE=c.bind({b2v:function(e){return h(e,this.width)},v2b:function(e){return h(e,this.width)}}),i.sbit=c.bind({b2v:function(e){var t=1<<this.width-1;return e&t?-(e&=~t):e},v2b:function(e){var t=1<<this.width-1;return e<0?-e|t:e}}),i.byte=d.bind({b2v:function(e){return e},vTb:function(e,t){return e?(e.copy(t),e.length):0}}),i.char=d.bind({b2v:function(e){var t=e.toString("utf8"),r=t.indexOf("\0");return~r?t.slice(0,r):t},vTb:function(e,t){return e||(e=""),t.write(e,"utf8")}}),i.char16le=d.bind({b2v:function(e){var t=e.toString("utf16le"),r=t.indexOf("\0");return~r?t.slice(0,r):t},vTb:function(e,t){return e||(e=""),t.write(e,"utf16le")}}),i.char16be=d.bind({b2v:function(e){var t=s(e.length);p(e,t);var r=t.toString("utf16le"),n=r.indexOf("\0");return~n?r.slice(0,n):r},vTb:function(e,t){e||(e="");var r=t.write(e,"utf16le");return p(t),r}}),i.float32=y("FloatBE",4),i.float64=y("DoubleBE",8),i.float32le=y("FloatLE",4),i.float64le=y("DoubleLE",8),i.uint8=y("UInt8"),i.uint16=y("UInt16BE"),i.uint32=y("UInt32BE"),i.uint16le=y("UInt16LE"),i.uint32le=y("UInt32LE"),i.int8=y("Int8"),i.int16=y("Int16BE"),i.int32=y("Int32BE"),i.int16le=y("Int16LE"),i.int32le=y("Int32LE"),i.derive=function(e,t,r){return function(n,i){return"string"!=typeof n&&(i=n,n=null),l(a({valueFromBytes:function(t,n){return r(e.valueFromBytes(t,n))},bytesFromValue:function(r,n,i){return e.bytesFromValue(t(r),n,i)},name:n},"width"in e?{width:e.width}:{size:e.size}),i)}},e.exports=i},490:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var n=r(358),i=r(290);class o{constructor(e,t,r){this.aheadRange=t,this.sectorSize=e,this.aheadSize=t*e,this.lru=new i.f(Math.floor(r/(t*e)))}contains(e){return!!this.lru.get(e)}read(e){const t=this.getOrigin(e),r=this.lru.get(t);if(r){const n=e-t;return 0===n?r:r.slice(n*this.sectorSize,(n+1)*this.sectorSize)}return null}create(e,t,r){this.lru.set(e,t.slice(r,r+this.aheadSize))}getOrigin(e){return e-e%this.aheadRange}memUsed(){return this.lru.size*this.aheadSize}}class s{constructor(e,t,r,i,s,a,u){this.cache=null,this.writeCache={},this.socket=null,this.connect=()=>new Promise((l=>{const f=new WebSocket(e);this.socket=f,f.addEventListener("close",(()=>{l()})),f.binaryType="arraybuffer",f.addEventListener("error",(()=>{console.error("Can't connect to",e,t,r),f.close()})),f.addEventListener("open",(()=>{f.addEventListener("message",(e=>{const i=new Uint32Array(e.data);if(3!==(null==i?void 0:i.length))console.error("Wrong cache format");else{const e=i[0],l=i[1];if(this.cache=new o(e,l,67108864),!s)return void f.close();let c=i[2];if(0===c)f.close();else{const i=e*l,o=Math.floor(n.j/i),s={payload:new Uint8Array(n.j),sectorsRow:new Uint8Array(n.j),aheadSize:l*e,sectors:[],payloadSize:0,payloadPos:0},h=c*i;let d=h;a(t,r,d,h),f.addEventListener("message",(p=>{var y,g;if(p.data instanceof ArrayBuffer){const b=new Uint8Array(p.data);if(0===s.sectors.length){const e=b[1]+(b[2]<<8)+(b[3]<<16)+(b[4]<<24);if(e>o)return console.error("Can't load more than",o,"at once (requested"+e+")"),void f.close();for(let t=0;t<e;++t){const e=5+4*t;s.sectors.push(b[e]+(b[e+1]<<8)+(b[e+2]<<16)+(b[e+3]<<24))}}else if((0,n.V)(p,s))if(s.error)console.error(s.error),f.close();else{u(t,r,e,l,s.sectors,s.sectorsRow),d-=s.sectors.length*i,c-=s.sectors.length,a(t,r,d,h);for(let e=0;e<s.sectors.length;++e)(null===(y=this.cache)||void 0===y?void 0:y.contains(s.sectors[e]))||null===(g=this.cache)||void 0===g||g.create(s.sectors[e],s.sectorsRow,e*s.aheadSize);s.sectors=[],s.payloadSize=0,s.payloadPos=0,0===c&&f.close()}}else console.error("Unknown event",p),f.close()}))}}}),{once:!0}),f.send(t+"&"+r+"&"+i)}))}))}read(e){var t,r,n;return null!==(n=null!==(t=this.writeCache[e])&&void 0!==t?t:null===(r=this.cache)||void 0===r?void 0:r.read(e))&&void 0!==n?n:null}write(e,t){this.writeCache[e]=t}create(e,t,r){var n;null===(n=this.cache)||void 0===n||n.create(e,t,r)}getOrigin(e){var t,r;return null!==(r=null===(t=this.cache)||void 0===t?void 0:t.getOrigin(e))&&void 0!==r?r:0}memUsed(){var e,t;return null!==(t=null===(e=this.cache)||void 0===e?void 0:e.memUsed())&&void 0!==t?t:0}close(){var e;null===(e=this.socket)||void 0===e||e.close()}}class a{key(e,t){return e+"/"+t}constructor(e,t){this.impl={},this.progress=()=>{},this.payload=()=>{},this.connectQueue=[],this.url=e,this.preload=t}open(e,t,r){const n=this.key(e,t);if(void 0===this.impl[n]){const i=new s(this.url+"/cache",e,t,r,this.preload,this.progress,this.payload);this.impl[n]=i,this.connectQueue.push(i.connect),1==this.connectQueue.length&&this.runNextCache()}}runNextCache(){if(this.connectQueue.length>0){const e=this.connectQueue[0];e().then((()=>{e===this.connectQueue[0]?(this.connectQueue.splice(0,1),this.runNextCache()):console.error("wrong cache order!")}))}}read(e,t,r){const n=this.key(e,t);return this.impl[n]?this.impl[n].read(r):(console.error("Cache for drive",n,"not opened!"),null)}update(e,t,r,n,i){const o=this.key(e,t);if(this.impl[o]){const e=this.impl[o].getOrigin(r);if(e&&e!==r)throw new Error("Origin mistamtch for "+o);this.impl[o].create(r,n,i)}else console.error("Cache for drive",o,"not opened!")}write(e,t,r,n){const i=this.key(e,t);this.impl[i]?this.impl[i].write(r,n):console.error("Cache for drive",i,"not opened!")}memUsed(){let e=0;for(const t of Object.keys(this.impl))e+=this.impl[t].memUsed();return e}onProgress(e){this.progress=e}onPayload(e){this.payload=e}close(){for(const e of Object.keys(this.impl))this.impl[e].close()}}},358:(e,t,r)=>{"use strict";r.d(t,{V:()=>i,j:()=>n});const n=1048576;function i(e,t){if(e.data instanceof ArrayBuffer){let r=new Uint8Array(e.data);0===t.payloadSize&&(t.payloadSize=r[0]+(r[1]<<8)+(r[2]<<16)+(r[3]<<24),r=r.slice(4));const n=t.payloadSize-t.payloadPos;if(r.byteLength>n||n<0)return t.error="wrong read payload length "+r.byteLength+" instead of "+n,!0;if(t.payload.set(r,t.payloadPos),t.payloadPos+=r.byteLength,t.payloadPos==t.payloadSize){const e=t.aheadSize*t.sectors.length;let r=e;return t.payloadSize<e?r=function(e,t,r,n){let i,o,s;for(i=r=r||0,o=n=n||e.length-r,s=0;i<o;){const r=e[i++];let n=r>>4;if(n>0){let r=n+240;for(;255===r;)r=e[i++],n+=r;const a=i+n;for(;i<a;)t[s++]=e[i++];if(i===o)return s}const a=e[i++]|e[i++]<<8;if(0===a)return s;if(a>s)return-(i-2);let u=15&r,l=u+240;for(;255===l;)l=e[i++],u+=l;let f=s-a;const c=s+u+4;for(;s<c;)t[s++]=t[f++]}return s}(t.payload,t.sectorsRow,0,t.payloadSize):t.sectorsRow.set(t.payload),r!=e&&(t.error="wrong decode result "+r+" should be "+e),!0}return!1}return t.error="received non arraybuffer data",!0}},798:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var n=r(358),i=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class o{constructor(e,t,r,n,i,o,s=null,a=!1){var u;this.socket=Promise.resolve(null),this.aheadRange=0,this.aheadSize=0,this.readStartedAt=0,this.cleanup=()=>{},this.openFn=(e,t,r,n,i,o)=>{},this.errorFn=e=>{},this.readOnly=!1,this.alive=!0,this.lastBufferedAmount=0,this.statsDirty={},this.sectorSize=512,this.module=o,this.endpoint=e,this.owner=t,this.drive=r,this.realOwner=t,this.realDrive=r,this.token=n,this.request=null,this.readBuffer=new Uint8Array(9),this.writeBuffer=new Uint8Array(5+this.sectorSize),this.stats=i,this.cache=s,null===(u=this.cache)||void 0===u||u.open(this.owner,this.drive,this.token),this.frame=null,this.readBuffered=a,this.reconnect(),this.statsCommitInterval=setInterval((()=>{Object.keys(this.statsDirty).length>0&&(fetch(e.replace("wss://","https://").replace("ws://","http://")+"/cache/set/"+encodeURIComponent(this.realOwner)+"/"+encodeURIComponent(this.realDrive)+"/"+(0===n.length?"guest":n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.statsDirty)}).catch((e=>console.warn("Can't send drive cache stats",e))),this.statsDirty={})}),6e4)}onError(e){this.errorFn=e}onOpen(e){this.openFn=e}reconnect(){this.alive&&(this.socket&&this.socket.then((e=>{null!==e&&e.close()})),this.socket=new Promise(((e,t)=>{const r=new WebSocket(this.endpoint);r.binaryType="arraybuffer";const n=this.onMessage.bind(this),i=()=>{const i=o=>{var s;if(r.removeEventListener("message",i),o.data.startsWith("write")||o.data.startsWith("read")){const[t,i,s,a,u]=o.data.split(",");this.realOwner=a,this.realDrive=u,this.aheadRange=Number.parseInt(i),this.aheadSize=this.aheadRange*this.sectorSize,this.readOnly="write"!==t,this.frame={sectors:[],sectorsRow:new Uint8Array(this.aheadSize),payload:new Uint8Array(this.aheadSize),payloadPos:0,payloadSize:0,aheadSize:this.aheadSize};const l=t=>{var i;r.removeEventListener("message",l),r.addEventListener("message",n),this.openFn(!0,!this.readOnly,1024*(null!==(i=Number.parseInt(s))&&void 0!==i?i:2097152),this.aheadRange,a,u),this.onOpen=()=>{},this.errorFn=()=>{},e(r)};r.addEventListener("message",l)}else{const e=new Error(null!==(s=o.data)&&void 0!==s?s:"Unable to establish connection");this.errorFn(e),t(e)}};r.addEventListener("message",i),r.send(this.owner+"&"+this.drive+"&"+this.token)},o=e=>{console.error("Network error",e,"will reconnect"),s(),r.close(),setTimeout(this.reconnect.bind(this),300)};r.addEventListener("error",o),r.addEventListener("open",i);const s=function(){r.removeEventListener("message",n),r.removeEventListener("open",i),r.removeEventListener("error",o)};this.cleanup=s})),null!==this.request&&this.executeRequest(this.request))}read(e,t,r){var n,i;const o=this.getOrigin(e);this.statsDirty[o]=(null!==(n=this.statsDirty[o])&&void 0!==n?n:0)+1;const s=null===(i=this.cache)||void 0===i?void 0:i.read(this.owner,this.drive,e);return s?(this.stats.cacheHit++,this.module.HEAPU8.set(this.readBuffered||s.length==this.sectorSize?s:s.slice(0,this.sectorSize),t),r?0:Promise.resolve(0)):r?255:new Promise((r=>{this.stats.cacheMiss++;const n={type:1,sector:e,buffer:t,resolve:r};null!==this.request?(console.error("New read request while old one is still processed"),r(3)):(this.request=n,this.executeRequest(this.request))}))}write(e,t){var r;const n={type:2,sector:e,buffer:this.module.HEAPU8.slice(t,t+this.sectorSize),resolve:()=>{}};return this.lastBufferedAmount+=this.sectorSize,null===(r=this.cache)||void 0===r||r.write(this.owner,this.drive,e,n.buffer),this.executeRequest(n),0}close(){return i(this,void 0,void 0,(function*(){clearInterval(this.statsCommitInterval),this.alive=!1;const e=yield this.socket;yield new Promise((t=>{const r=setInterval((()=>{0===e.bufferedAmount&&(clearInterval(r),t())}),32)})),this.cleanup(),e.close()}))}executeRequest(e){this.socket.then((t=>i(this,void 0,void 0,(function*(){if(t.readyState!==WebSocket.CLOSED&&t.readyState!==WebSocket.CLOSING)if(1===e.type){const{sector:r}=e;this.readStartedAt=Date.now(),this.readBuffer[0]=1,this.readBuffer[1]=1,this.readBuffer[2]=0,this.readBuffer[3]=0,this.readBuffer[4]=0;const n=this.getOrigin(r);this.readBuffer[5]=255&n,this.readBuffer[6]=n>>8&255,this.readBuffer[7]=n>>16&255,this.readBuffer[8]=n>>24&255,this.frame.sectors=[r],this.frame.payloadPos=0,this.frame.payloadSize=0,t.send(this.readBuffer.slice(0,9).buffer)}else if(this.readOnly)e.resolve(0);else{const{sector:r,buffer:n,resolve:i}=e;this.stats.write+=this.sectorSize,this.writeBuffer[0]=2,this.writeBuffer[1]=255&r,this.writeBuffer[2]=r>>8&255,this.writeBuffer[3]=r>>16&255,this.writeBuffer[4]=r>>24&255,this.writeBuffer.set(n,5),t.send(this.writeBuffer.buffer),i(0)}else this.alive?(console.error("Drive connection to '"+this.owner+"/"+this.drive+"' was closed, trying to reconnect..."),this.reconnect()):(console.error("Trying to read from closed drive",this.drive),e.resolve(4))})))).catch(console.error)}onMessage(e){var t;if(null===this.request)console.error("Received message without request"),this.reconnect();else if(2===this.request.type)console.error("Received read payload while write request"),this.reconnect();else if((0,n.V)(e,this.frame)){if(this.frame.error)return console.error(this.frame.error),void this.reconnect();{const{buffer:e,sector:r,resolve:n}=this.request,i=this.getOrigin(r);null===(t=this.cache)||void 0===t||t.update(this.owner,this.drive,i,this.frame.sectorsRow,0);const o=(r-i)*this.sectorSize;this.readBuffered?0!==o?(console.error("Buffered mode only works for origin!"),n(3)):this.module.HEAPU8.set(this.frame.sectorsRow,e):this.module.HEAPU8.set(this.frame.sectorsRow.slice(o,o+this.sectorSize),e),this.stats.read+=this.frame.payloadSize,this.stats.readTotalTime+=Date.now()-this.readStartedAt,this.request=null,n(0)}}}currentSocket(){return this.socket}getOrigin(e){return e-e%this.aheadRange}bufferedAmount(){return this.socket.then((e=>{e&&(this.lastBufferedAmount=e.bufferedAmount)})),this.lastBufferedAmount}}},290:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});const n=Symbol("newer"),i=Symbol("older");class o{constructor(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}_markEntryAsUsed(e){e!==this.newest&&(e[n]&&(e===this.oldest&&(this.oldest=e[n]),e[n][i]=e[i]),e[i]&&(e[i][n]=e[n]),e[n]=void 0,e[i]=this.newest,this.newest&&(this.newest[n]=e),this.newest=e)}assign(e){let t,r=this.limit||Number.MAX_VALUE;this._keymap.clear();const o=e[Symbol.iterator]();for(let e=o.next();!e.done;e=o.next()){const o=new s(e.value[0],e.value[1]);if(this._keymap.set(o.key,o),t?(t[n]=o,o[i]=t):this.oldest=o,t=o,0==r--)throw new Error("overflow")}this.newest=t,this.size=this._keymap.size}get(e){const t=this._keymap.get(e);if(t)return this._markEntryAsUsed(t),t.value}set(e,t){let r=this._keymap.get(e);return r?(r.value=t,this._markEntryAsUsed(r),this):(this._keymap.set(e,r=new s(e,t)),this.newest?(this.newest[n]=r,r[i]=this.newest):this.oldest=r,this.newest=r,++this.size,this.size>this.limit&&this.shift(),this)}shift(){const e=this.oldest;if(e)return this.oldest[n]?(this.oldest=this.oldest[n],this.oldest[i]=void 0):(this.oldest=void 0,this.newest=void 0),e[n]=e[i]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]}}function s(e,t){this.key=e,this.value=t,this[n]=void 0,this[i]=void 0}function a(e){this.entry=e}function u(e){this.entry=e}function l(e){this.entry=e}a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){const e=this.entry;return e?(this.entry=e[n],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){const e=this.entry;return e?(this.entry=e[n],{done:!1,value:e.key}):{done:!0,value:void 0}},l.prototype[Symbol.iterator]=function(){return this},l.prototype.next=function(){const e=this.entry;return e?(this.entry=e[n],{done:!1,value:e.value}):{done:!0,value:void 0}}},54:(e,t,r)=>{var n=r(764).Buffer;e.exports=function(e){return ArrayBuffer.isView(e)?n.from(e.buffer,e.byteOffset,e.byteLength):n.from(e)}},927:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},214:e=>{e.exports=function(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(r){e[r]=t[r]}))})),e}},323:(e,t,r)=>{const n=r(140),i=r(674);function o(e){const t={};function r(e){const r=t.sectorSize,n=e%r;return{sector:(e-n)/r,offset:n}}return t.sectorSize=e._sectorSize,t.cacheAdvice="NORMAL",t._vol_readSectors=e._readSectors.bind(e),t._vol_writeSectors=e._writeSectors.bind(e),t.readFromPosition=function(e,n,o){function s(){const r=e.offset&&t.sectorSize-e.offset,s=(n.length-r)%t.sectorSize,a=r?e.sector+1:e.sector,u=s?n.slice(r,-s):n.slice(r);function l(){const e=a+u.length/t.sectorSize;t.readSectors(e,i.allocBuffer(t.sectorSize),(function(e,t){e||!t?o(e,n.length-s,n):(t.copy(n,n.length-s,0,s),o(null,n.length,n))}))}u.length?t.readSectors(a,u,(function(e,t){e||!t?o(e,r,n):s?l():o(null,n.length,n)})):l()}"number"==typeof e&&(e=r(e)),"number"==typeof n&&(n=i.allocBuffer(n)),e.offset?t.readSectors(e.sector,i.allocBuffer(t.sectorSize),(function(t,r){if(t||!r)o(t,0,n);else{const t=e.offset,i=t+n.length;r.copy(n,0,t,i),i>r.length?s():o(null,n.length,n)}})):s()},t.writeToPosition=function(e,n,o){i.log(i.log.DBG,"WRITING",n.length,"bytes at",e,"in",this.toJSON(),n),"number"==typeof e&&(e=r(e));const s=e.offset?n.slice(0,t.sectorSize-e.offset):null;function a(){const r=s?s.length:0,i=(n.length-r)%t.sectorSize,a=r?e.sector+1:e.sector,l=i?n.slice(r,-i):n.slice(r);function f(){u(a+l.length/t.sectorSize,0,n.slice(n.length-i),o)}l.length?t.writeSectors(a,l,(function(e){e?o(e):i?f():o()})):f()}function u(e,r,n,o){t.readSectors(e,i.allocBuffer(t.sectorSize),(function(s,a){if(s)return o(s);a||(a=i.allocBuffer(t.sectorSize,0)),n.copy(a,r),t.writeSectors(e,a,o)}))}s?u(e.sector,e.offset,s,(function(e){e?o(e):s.length<n.length?a():o()})):a()},t}function s(e){i.delayedCall(e,null,null)}t.clusterChain=function(e,t,r){const i=o(e),a=[t];function u(){return"eof"===a[a.length-1]}function l(t,r){t<a.length?r(null,a[t]):u()?r(null,"eof"):e.fetchFromFAT(a[a.length-1],(function(e,i){e?r(e):"string"==typeof i&&"eof"!==i?r(n.err.IO()):(a.push(i),l(t,r))}))}function f(t,r){if(!u())throw Error("Must be called only when cache is complete!");a.pop(),function t(n,i){n?e.allocateInFAT(i,(function(o,s){o?r(o):e.storeToFAT(i,s,(function(e){if(e)return r(e);a.push(s),t(n-1,s)}))})):(a.push("eof"),r())}(t-a.length,a[a.length-1])}function c(t,r,n,i){let o=t%e._sectorsPerCluster;const s=(t-o)/e._sectorsPerCluster,u=Math.ceil((r+o)/e._sectorsPerCluster),c=s+u;function h(){const t=[];let r=null;for(var n=s;n<c;++n){const i=n<a.length?a[n]:"eof";if("eof"===i)break;r&&i!==r._nextCluster&&(t.push(r),r=null),r?(r._nextCluster+=1,r.numSectors+=e._sectorsPerCluster):r={_nextCluster:i+1,firstSector:e._firstSectorOfCluster(i)+o,numSectors:e._sectorsPerCluster-o},o=0}r&&t.push(r),i(null,t,n===c)}l(c-1,(function(e,t){e?i(e):"eof"===t&&n?f(c,(function(e){e?i(e):h()})):h()}))}return i.firstCluster=t,i.readSectors=function(e,t,r){let n,o=0;c(e,t.length/i.sectorSize,!1,(function(e,a,u){if(e)r(e);else if(u)if(n=a.length){const e=e=>new Promise((s=>{const a=e.numSectors*i.sectorSize,u=t.slice(o,o+=a);i._vol_readSectors(e.firstSector,u,(function(e,i){e&&-1!==n?(n=-1,r(e)):0==--n&&r(null,t),s()}))}));(async()=>{for(const t of a)await e(t)})().catch((e=>r(e)))}else r(null,t);else n=-1,s(r)}))},i.writeSectors=function(e,t,r){let n,o=0;c(e,t.length/i.sectorSize,!0,(function(e,s){if(e)r(e);else if(n=s.length){const e=e=>new Promise((s=>{const a=e.numSectors*i.sectorSize,u=t.slice(o,o+=a);i._vol_writeSectors(e.firstSector,u,(function(e){e&&-1!==n?(n=-1,r(e)):0==--n&&r(),s()}))}));(async()=>{for(const t of s)await e(t)})().catch((e=>r(e)))}else r()}))},i.truncate=function(t,r){l(1/0,(function(n,i){if(n)return r(n);const o=a.length-1,s=Math.ceil(t/e._sectorsPerCluster);s<o?function(t,r){if(!u())throw Error("Must be called only when cache is complete!");a.pop(),function t(r,n){r?e.storeToFAT(a.pop(),"free",(function(e){e?n(e):t(r-1,n)})):(a.push("eof"),n())}(t?a.length-t:a.length-1,r)}(s,r):s>o?f(s,r):r()}))},i.toJSON=function(){return{firstCluster:t}},i},t.sectorChain=function(e,t,r){const a=o(e);return a.firstSector=t,a.numSectors=r,a.readSectors=function(e,n,i){e<r?a._vol_readSectors(t+e,n,i):s(i)},a.writeSectors=function(e,o,s){e<r?a._vol_writeSectors(t+e,o,s):i.delayedCall(s,n.err.NOSPC())},a.truncate=function(e,t){i.delayedCall(t,n.err.INVAL())},a.toJSON=function(){return{firstSector:t,numSectors:r}},a}},824:(e,t,r)=>{const n=r(140),i=r(674),o=t;function s(e,t,r){let i;function o(e,r,n,o){if(!0===e&&(e=i||(i=new Date)),t[r+"Date"]={year:e.getFullYear()-1980,month:e.getMonth()+1,day:e.getDate()},n&&(t[r+"Time"]={hours:e.getHours(),minutes:e.getMinutes(),seconds_2:e.getSeconds()>>>1},o)){const n=e.getSeconds()%2*1e3+e.getMilliseconds();t[r+"TimeTenth"]=Math.floor(n/100)}}return"size"in r&&(t._size=t.FileSize=r.size),"_touch"in r&&(r.archive=r.atime=r.mtime=!0),"archive"in r&&(t.Attr.archive=!0),"ctime"in r&&o(r.ctime,"Crt",!0,!0),"mtime"in r&&o(r.mtime,"Wrt",!0),"atime"in r&&o(r.atime,"LstAcc"),"mode"in r&&(t.Attr.directory=!!(r.mode&n._I.FDIR),t.Attr.volume_id=!(r.mode&n._I.FREG),73===e.opts.modmode?(t.Attr.archive=!!(r.mode&n._I.XUSR),t.Attr.system=!!(r.mode&n._I.XGRP),t.Attr.hidden=!!(r.mode&n._I.XOTH),t.Attr.readonly=!(r.mode&n._I.WUSR)):3584===e.opts.modmode&&(t.Attr.archive=!!(r.mode&n._I.SVTX),t.Attr.system=!!(r.mode&n._I.SGID),t.Attr.hidden=!!(r.mode&n._I.SUID),t.Attr.readonly=!(r.mode&n._I.WUSR||r.mode&n._I.WGRP||r.mode&n._I.WOTH))),"firstCluster"in r&&(t.FstClusLO=65535&r.firstCluster,t.FstClusHI=r.firstCluster>>>16,t._firstCluster=r.firstCluster),t}o.iterator=function(e,t){t||(t={});const r={buffer:null,n:null};function o(t,n){r.n===t?n(null,r.buffer):(r.n=r.buffer=null,e.readSectors(t,i.allocBuffer(e.sectorSize),(function(e,i){if(e)n(e);else{if(!i)return n(null,null);r.n=t,r.buffer=i,o(t,n)}})))}let s=0;const a={bytes:0};let u=null;function l(r){a.bytes>=e.sectorSize&&(s+=1,a.bytes-=e.sectorSize);const f={chain:e,sector:s,offset:a.bytes};o(s,(function(e,o){if(e)return r(n.err.IO());if(!o)return r(null,null,f);const c=a.bytes,h=o[c];if(h===n.entryDoneFlag)return r(null,null,f);if(h===n.entryFreeFlag)return a.bytes+=n.dirEntry.size,u=null,t.includeFree?r(null,{_free:!0,_pos:f},f):l(r);const d=o[c+n.dirEntry.fields.Attr.offset],p=d===n.longDirFlag?n.longDirEntry:n.dirEntry_simple,y=p.valueFromBytes(o,a);if(y._pos=f,i.log(i.log.DBG,"entry:",y,s,c),p===n.longDirEntry){let e;if(y.Ord&n.lastLongFlag&&(e=!0,y.Ord&=~n.lastLongFlag,u={name:-1,sum:y.Chksum,_rem:y.Ord-1,_arr:[]}),e||u&&y.Chksum===u.sum&&y.Ord===u._rem--){const e=n.longDirEntry.fields;let t=y.Name1;y.Name1.length===e.Name1.size/2&&(t+=y.Name2,y.Name2.length===e.Name2.size/2&&(t+=y.Name3)),u._arr.push(t),u._rem||(u.name=u._arr.reverse().join(""),delete u._arr,delete u._rem)}else u=null}else{if(0==(8&d)){let e=null;if(u&&u.name){const t=c+n.dirEntry.fields.Name.offset;i.checksumName(o,t)===u.sum&&(e=u.name)}if(!e){h===n.entryIsE5Flag&&(y.Name.filename=""+y.Name.filename.slice(1));const t=y.Name.filename.replace(/ +$/,""),r=y.Name.extension.replace(/ +$/,"");e=r?t+"."+r:t}y._name=e;const t=o.slice(a.bytes-n.dirEntry.size,a.bytes);return y._full=function(){const e=n.dirEntry.valueFromBytes(t);return i.extend(y,e),y._size=y.FileSize,y._firstCluster=(y.FstClusHI<<16)+y.FstClusLO,y},u=null,r(null,y,f)}u=null}l(r)}))}return function e(t){return l(t),e}},o.makeStat=function(e,t){const r={};function o(e){const r=t[e+"Date"],n=t[e+"Time"]||{hours:0,minutes:0,seconds_2:0};let i=2*n.seconds_2,o=t[e+"TimeTenth"]||0;return o>100&&(i+=1,o-=100),new Date(r.year+1980,r.month-1,r.day,n.hours,n.minutes,i,100*o)}return r.isFile=function(){return!t.Attr.volume_id&&!t.Attr.directory},r.isDirectory=function(){return t.Attr.directory},r.isBlockDevice=function(){return!1},r.isCharacterDevice=function(){return!1},r.isSymbolicLink=function(){return!1},r.isFIFO=function(){return!1},r.isSocket=function(){return!1},r.size=t.FileSize,r.blksize=e._sectorsPerCluster*e._sectorSize,r.blocks=Math.ceil(r.size/r.blksize)||1,r.nlink=1,r.mode=n._I.RUSR|n._I.RGRP|n._I.ROTH,t.Attr.readonly||(r.mode|=n._I.WUSR|n._I.WGRP|n._I.WOTH),t.Attr.directory?r.mode|=n._I.FDIR:t.Attr.volume_id||(r.mode|=n._I.FREG),73===e.opts.modmode?(t.Attr.archive&&(r.mode|=n._I.XUSR),t.Attr.system&&(r.mode|=n._I.XGRP),t.Attr.hidden&&(r.mode|=n._I.XOTH)):3584===e.opts.modmode&&(t.Attr.archive&&(r.mode|=n._I.SVTX),t.Attr.system&&(r.mode|=n._I.SGID),t.Attr.hidden&&(r.mode|=n._I.SUID)),r.mode&=~e.opts.umask,r.uid=e.opts.uid,r.gid=e.opts.gid,r.atime=o("LstAcc"),r.mtime=o("Wrt"),r.ctime=o("Crt"),t={Attr:i.extend({},t.Attr)},r},o.init=function(e,t,r){const o=t.chain,a="numSectors"in o,u=i.allocBuffer(o.sectorSize*e._sectorsPerCluster),l={bytes:0};function f(t,r){for(;t.length<8;)t+=" ";n.dirEntry.bytesFromValue(s(e,{Name:{filename:t,extension:"   "},Attr:{directory:!0}},{firstCluster:r,_touch:!0,ctime:!0}),u,l)}u.fill(0),a||(f(".",o.firstCluster),f("..",t.parent.chain.firstCluster)),o.writeToPosition(0,u,r)},o.addFile=function(e,t,r,o,a){"function"==typeof o&&(a=o,o={});var u=r.name;const l=[];let f;l.push(f={Name:i.shortname(u),Attr:{directory:o.dir||!1},_name:u});{0;const e=n.longDirEntry.fields,t=(e.Name1.size+e.Name2.size+e.Name3.size)/2,r=u.length%t;let i=r&&t-r;for(i--&&(u+="\0");i-- >0;)u+="";let o=0,s=1;for(;o<u.length;)l.push({Ord:s++,Name1:u.slice(o,o+=e.Name1.size/2),Attr_raw:n.longDirFlag,Chksum:null,Name2:u.slice(o,o+=e.Name2.size/2),Name3:u.slice(o,o+=e.Name3.size/2)});l[l.length-1].Ord|=n.lastLongFlag}if(r.tail){u=f.Name.filename;const e="~"+r.tail,t=u.indexOf(" "),o=~t?Math.min(t,u.length-e.length):u.length-e.length;if(o<0)return a(n.err.NAMETOOLONG());f.Name.filename=u.slice(0,o)+e+u.slice(o+e.length),i.log(i.log.DBG,"Shortname amended to:",f.Name)}e.allocateInFAT(t.firstCluster||2,(function(o,u){if(o)return a(o);const c=n.dirEntry.fields.Name.bytesFromValue(f.Name),h=i.checksumName(c);s(e,f,{firstCluster:u,size:0,ctime:!0,_touch:!0}),f._pos=i.adjustedPos(e,r.target,n.dirEntry.size*(l.length-1)),l.slice(1).forEach((function(e){e.Chksum=h})),l.reverse(),r.lastEntry&&l.push({});const d=i.allocBuffer(n.dirEntry.size*l.length),p={bytes:0};l.forEach((function(e){("Ord"in e?n.longDirEntry:n.dirEntry).bytesFromValue(e,d,p)})),i.log(i.log.DBG,"Writing",d.length,"byte directory entry",f,"into",t.toJSON(),"at",r.target),t.writeToPosition(r.target,d,(function(r){r?a(r):a(null,f,e.chainForCluster(u,t))}))}))},o.findInDirectory=function(e,t,r,s,a){const u=r.toUpperCase(),l=s.prepareForCreate?i.shortname(r):null;let f=0;!function e(t){t=t((function(r,i,o){if(r)a(r);else if(i)if(i._free)e(t);else{if(i._name.toUpperCase()===u)return a(null,i._full());if(s.prepareForCreate){let r=1,n=i.Name.filename;const o=n.match(/(.*)~(\d+)/);o&&(r=+o[2],n=o[1]),l.extension===i.Name.extension&&0===l.filename.indexOf(n)&&(f=Math.max(r+1,f)),e(t)}else e(t)}else a(n.err.NOENT(),{tail:f,target:o,lastEntry:!0})}))}(o.iterator(t,{includeFree:0}))},o.updateEntry=function(e,t,r,o){if(!t._pos||!t._pos.chain)throw Error("Entry source unknown!");const a=t._pos,u=s(e,t,r),l=n.dirEntry.bytesFromValue(u);i.log(i.log.DBG,"UPDATING ENTRY",r,u,a,l),a.chain.writeToPosition(a,l,o)}},674:(e,t,r)=>{var n=r(764).Buffer;const i=r(140),o=r(214);let s;t.allocBuffer=n.alloc||function(e,t){const r=n(e);return arguments.length>1&&r.fill(t),r},t.bufferFrom=n.from||function(e,t){return arguments.length>1?n(e,t):n(e)},t.workaroundTessel380=!n.from&&function(){const e=n([0]);return(e.slice(0)[0]=255)!==e[0]}(),!n.alloc&&n(5).slice(10).length<0&&(s=n.prototype.slice,n.prototype.slice=function(e,t){return e>this.length&&(e=this.length),arguments.length>1?s.call(this,e,t):s.call(this,e)}),t.absoluteSteps=function(e){const r=[];return e.split("/").forEach((function(e){".."===e?r.pop():e&&"."!==e&&r.push(e)})),r.map(t.longname)},t.absolutePath=function(e){return"/"+t.absoluteSteps(e).join("/")},t.parseFlags=function(e){let t,r;switch("\\"===e[0]&&(e=e.slice(1),r=!0),e){case"r":t={read:!0,write:!1,create:!1};break;case"r+":t={read:!0,write:!0,create:!1};break;case"rs":t={read:!0,write:!1,create:!1,sync:!0};break;case"rs+":t={read:!0,write:!0,create:!1,sync:!0};break;case"w":t={read:!1,write:!0,create:!0,truncate:!0};break;case"wx":t={read:!1,write:!0,create:!0,exclusive:!0};break;case"w+":t={read:!0,write:!0,create:!0,truncate:!0};break;case"wx+":t={read:!0,write:!0,create:!0,exclusive:!0};break;case"a":t={read:!1,write:!0,create:!0,append:!0};break;case"ax":t={read:!1,write:!0,create:!0,append:!0,exclusive:!0};break;case"a+":t={read:!0,write:!0,create:!0,append:!0};break;case"ax+":t={read:!0,write:!0,create:!0,append:!0,exclusive:!0};break;default:throw Error("Uknown mode: "+e)}if(t.sync)throw Error("Mode not implemented.");return r&&(t._openDir=!0),t};const a=/[^A-Z0-9$%'-_@~`!(){}^#&.]/g;t.shortname=function(e){let t=!1;const r=(e=(e=e.toUpperCase().replace(/ /g,"").replace(/^\.+/,"")).replace(a,(function(){return t=!0,"_"}))).split(".");let n=r.pop(),i=r.join("");if(r.length||(i=n,n="   "),i.length>8)i=i.slice(0,8),t=!0;else for(;i.length<8;)i+=" ";if(n.length>3)n=n.slice(0,3),t=!0;else for(;n.length<3;)n+=" ";return{filename:i,extension:n,_lossy:t}};const u=/[^a-zA-Z0-9$%'-_@~`!(){}^#&.+,;=[\] ]/g;function l(e,t){return(1&e?128:0)+(e>>>1)+t&255}t.longname=function(e){if((e=e.trim().replace(/\.+$/,"").replace(u,(function(e){if(e.length>1)throw Error("Internal problem: unexpected match length!");if(e.charCodeAt(0)>127)return e;throw Error("Invalid character "+JSON.stringify(e)+" in name.")}))).length>255)throw Error("Name is too long.");return e},t.checksumName=function(e,t){return t||(t=0),function(e,t,r,n,i){for(let o=t;o<r;++o)i=n(i,e[o]);return i}(e,t,t+i.dirEntry.fields.Name.size,l,0)},t.fmtHex=function(e,t){return(1+t+e).toString(16).slice(1)},t.delayedCall=function(e){if(!e)throw Error("No function provided!");const t=Array.prototype.slice.call(arguments,1);e.apply(this,t)},t.adjustedPos=function(e,t,r){const n={chain:t.chain,sector:t.sector,offset:t.offset+r},i=e._sectorSize;for(;n.offset>=i;)n.sector+=1,n.offset-=i;return n},t.extend=o;let f=Date.now();function c(e){if(e<c.level)return;const t=Date.now(),r=t-f;arguments[0]=(r<50?" ":"")+r.toFixed(0)+"ms",console.log.apply(console,arguments),f=t}c.DBG=-4,c.INFO=-3,c.WARN=-2,c.ERR=-1,c.level=c.WARN,t.log=c},426:(e,t,r)=>{var n=r(155);const i=r(187),o=r(830),s=r(521),a=r(140),u=r(674);t.i=function(e,t,l){"function"==typeof t&&(l=t,t=null),t=u.extend({ro:!1,noatime:!0,modmode:73,umask:"umask"in n?n.umask():18,uid:"getuid"in n?n.getuid():0,gid:"getgid"in n?n.getgid():0},t),e.writeSectors||(t.ro=!0),t.ro&&(t.noatime=!0);const f=new i.EventEmitter;let c=null;const h=r(824),d=(r(323),s()),p=u.log.level<u.log.INFO?d.TRANSACTION_WRAPPER.bind({postAcquire:function(e){u.log(u.log.DBG,"=== Starting GROUP ==="),e()},preRelease:function(e){u.log(u.log.DBG,"=== Finishing GROUP ==="),e()}}):d.TRANSACTION_WRAPPER;d.acquire((function(n){const i=u.allocBuffer(e.sectorSize);e.readSectors(0,i,(function(o){if(o)f.emit("error",o);else{try{!function(n){c=r(435).init(e,t,n),f._dirIterator=h.iterator.bind(h);const i={},o={_refs:0,_record:function(){return i[this.path]=this,this.parent&&this.parent.retain(),this},retain:function(){return this._refs||this._record(),this._refs+=1,this},release:function(){this._refs-=1,this._refs||this._rescind()},_rescind:function(){this.parent&&this.parent.release(),delete i[this.path]}};f._createSharedEntry=function(e,t,r,n){return u.extend(Object.create(o),{_refs:0,path:e,entry:t,chain:r,parent:n}).retain()},f._createSharedEntry("/",{Attr:{directory:!0}},c.rootDirectoryChain),f._sharedEntryForSteps=function(e,t,r){const n=e.join("/")||"/",o=e.pop(),s=i[n];s?r(null,s.retain()):f._sharedEntryForSteps(e,{},(function(e,i){e?r(e):i.entry.Attr.directory?h.findInDirectory(c,i.chain,o,t,(function(e,s){e&&!t.prepareForCreate?r(e):e?r(e,{missingChild:u.extend(s,{name:o}),parent:i}):r(null,f._createSharedEntry(n,s,c.chainForCluster(s._firstCluster),i))})):r(a.err.NOTDIR())}))},f._updateEntry=h.updateEntry.bind(h,c),f._makeStat=h.makeStat.bind(h,c),f._addFile=h.addFile.bind(h,c),f._initDir=h.init.bind(h,c)}(i)}catch(o){return f.emit("error",o),void n()}f.emit("ready")}n()}))})),l&&f.on("error",l).on("ready",(()=>l("ready",null)));const y=[null,null,null];let g;f.open=function(e,t,r,n,i){"function"==typeof r&&(i=n,n=r,r=438),n=p(n,(function(){const r={flags:null,entry:null,chain:null,pos:0},i=u.parseFlags(t);if(c.opts.ro&&(i.write||i.create||i.truncate))return u.delayedCall(n,a.err.ROFS());r.flags=i,f._sharedEntryForSteps(u.absoluteSteps(e),{prepareForCreate:i.create},(function(t,o){function s(e){const t=y.push(r)-1;r.info=e,r.entry=e.entry,r.chain=e.chain,i.append&&(r.pos=r.entry._size),i._openDir&&(r.chain.cacheAdvice="WILLNEED"),i.truncate&&r.entry._size?f.ftruncate(t,0,(function(e){n(e,t)}),"_nested_"):u.delayedCall(n,null,t)}!t||"NOENT"===t.code&&i.create&&o?t?f._addFile(o.parent.chain,o.missingChild,{dir:i._openDir},(function(t,r,i){t?n(t):s(f._createSharedEntry(u.absolutePath(e),r,i,o.parent))})):o&&i.exclusive?n(a.err.EXIST()):o.entry.Attr.directory&&!i._openDir?n(a.err.ISDIR()):i.write&&o.entry.Attr.readonly?n(a.err.ACCES()):s(o):n(t)}))}),"_nested_"===i)},f.fstat=function(e,t,r){t=p(t,(function(){const r=y[e];r&&r.flags.read?u.delayedCall(t,null,f._makeStat(r.entry)):u.delayedCall(t,a.err.BADF())}),"_nested_"===r)},f.futimes=function(e,t,r,n,i){n=p(n,(function(){const i=y[e];i&&i.flags.write?f._updateEntry(i.entry,{atime:t||!0,mtime:r||!0},n):u.delayedCall(n,a.err.BADF())}),"_nested_"===i)},f.fchmod=function(e,t,r,n){r=p(r,(function(){const n=y[e];n&&n.flags.write?(t&=a._I._chmoddable,n.entry.Attr.directory?t|=a._I.FDIR:n.entry.Attr.volume_id||(t|=a._I.FREG),f._updateEntry(n.entry,{mode:t},r)):u.delayedCall(r,a.err.BADF())}),"_nested_"===n)},f.read=function(e,t,r,n,i,o,s){o=p(o,(function(){const s=y[e];if(!s||!s.flags.read)return u.delayedCall(o,a.err.BADF());const l=null===i?s.pos:i,h=Math.min(n,s.entry._size-l),d=t.slice(r,r+h);s.chain.readFromPosition(l,d,(function(e,n,i){function a(e){o(e,n,t)}u.workaroundTessel380&&d.copy(t,r),s.pos=l+n,e||c.opts.noatime?a(e):f._updateEntry(s.entry,{atime:!0},a)}))}),"_nested_"===s)},f._readdir=function(e,t,r){t=p(t,(function(){const r=y[e];if(!r||!r.flags.read)return u.delayedCall(t,a.err.BADF());const n=[],i=f._dirIterator(r.chain);!function e(){i((function(r,i){r?t(r):i||n.length?i?("."!==i._name&&".."!==i._name&&n.push(i._name),e()):t(null,n.sort()):t(null,n)}))}()}),"_nested_"===r)},f._mkdir=function(e,t,r){t=p(t,(function(){const r=y[e];r&&r.flags.write?f._initDir(r.info,t):u.delayedCall(t,a.err.BADF())}),"_nested_"===r)},f.write=function(e,t,r,n,i,o,s){o=p(o,(function(){const s=y[e];if(!s||!s.flags.write)return u.delayedCall(o,a.err.BADF());let l=null===i||s.flags.append?s.pos:i,c=t.slice(r,r+n);if(l>s.entry._size){const e=l-s.entry._size,t=u.allocBuffer(e+c.length);t.fill(0,0,e),c.copy(t,e),l=s.entry._size,c=t}s.chain.writeToPosition(l,c,(function(e){s.pos=l+n;const r={size:Math.max(s.entry._size,s.pos),_touch:!0};f._updateEntry(s.entry,r,(function(r){o(e||r,n,t)}))}))}),"_nested_"===s)},f.ftruncate=function(e,t,r,n){r=p(r,(function(){const n=y[e];if(!n||!n.flags.write)return u.delayedCall(r,a.err.BADF());const i={size:t,_touch:!0};t===n.entry._size?u.delayedCall(r):t<n.entry._size?f._updateEntry(n.entry,i,(function(e){e?r(e):n.chain.truncate(Math.ceil(t/n.chain.sectorSize),r)})):n.chain.writeToPosition(n.entry._size,u.allocBuffer(t-n.entry._size,0),(function(e){e?r(e):f._updateEntry(n.entry,i,r)}))}),"_nested_"===n)},f._fadviseSync=function(e,t,r,n){if(0!==t||0!==r)throw Error("Cache advise can currently be given only for whole file!");const i=y[e];if(!i)throw a.err.BADF();i.chain.cacheAdvice=n},f.fsync=function(e,t){y[e]?u.delayedCall(t):u.delayedCall(t,a.err.BADF())},f.close=function(e,t){const r=y[e];r?(setTimeout(r.info.release.bind(r.info),500),u.delayedCall(t,y[e]=null)):u.delayedCall(t,a.err.BADF())};try{new r(830).Readable({encoding:"utf8"}),new o.Readable({encoding:"utf8"})}catch(e){g=!0}function b(e,t,r){g&&"encoding"in r&&(console.warn("Tessel does not currently support encoding option for Readable streams, discarding!"),delete r.encoding);let n=null!==r.fd?r.fd:"_opening_",i=r.start;const s=new e(r);function a(e){r.autoClose&&f.close(n,(function(e){e?s.emit("error",e):s.emit("close")})),n=e}return"_opening_"===n&&f.open(t,r.flags,r.mode,(function(e,t){e?(n="_open_error_",s.emit("error",e)):(n=t,f._fadviseSync(n,0,0,"SEQUENTIAL"),s.emit("open",n))})),e===o.Readable?(s._read=function(e){let t;e=Math.min(e,r.end-i),"_opening_"===n?s.once("open",(function(){s._read(e)})):i>r.end?s.push(null):e>0?(t=u.allocBuffer(e),f.read(n,t,0,e,i,(function(e,t,r){e?(a("_read_error_"),s.emit("error",e)):s.push(t?r.slice(0,t):null)})),i+=e):s.push(null)},s.once("end",(function(){a("_ended_")}))):e===o.Writable&&(s.bytesWritten=0,s._write=function(e,t,r){"_opening_"===n?s.once("open",(function(){s._write(e,null,r)})):(f.write(n,e,0,e.length,i,(function(e,t){e?(a("_write_error_"),r(e)):(s.bytesWritten+=t,r())})),i+=e.length)},s.once("finish",(function(){a("_finished_")}))),s}function m(e,t,r,n){n=p(n,(function(){t.advice||(t.advice="NORMAL"),f.open(e,t.flag,(function(e,i){e?n(e):(f._fadviseSync(i,0,0,t.advice),r(i,(function(){const e=this,t=arguments;f.close(i,(function(r){n.apply(e,t)}),"_nested_")})))}),"_nested_")}))}return f.createReadStream=function(e,t){return b(o.Readable,e,u.extend({start:0,end:1/0,flags:"r",mode:438,encoding:null,fd:null,autoClose:!0},t))},f.createWriteStream=function(e,t){return b(o.Writable,e,u.extend({start:0,flags:"w",mode:438,fd:null,autoClose:!0},t,{decodeStrings:!0,objectMode:!1}))},f.stat=f.lstat=function(e,t){m(e,{flag:"r"},(function(e,t){f.fstat(e,t,"_nested_")}),t)},f.exists=function(e,t){f.stat(e,(function(e){t(!e)}))},f.readFile=function(e,t,r){"function"==typeof t&&(r=t,t={}),t.flag||(t.flag="r"),t.advice||(t.advice="NOREUSE"),m(e,t,(function(e,r){f.fstat(e,(function(n,i){if(n)return r(n);{const n=u.allocBuffer(i.size);f.read(e,n,0,n.length,null,(function(e){e?r(e):r(null,t.encoding?n.toString(t.encoding):n)}),"_nested_")}}),"_nested_")}),r)},f.writeFile=function(e,t,r,n){"function"==typeof r&&(n=r,r={}),r.flag||(r.flag="w"),r.advice||(r.advice="NOREUSE"),m(e,r,(function(e,n){"string"==typeof t&&(t=u.bufferFrom(t,r.encoding||"utf8")),f.write(e,t,0,t.length,null,(function(e){n(e)}),"_nested_")}),n)},f.appendFile=function(e,t,r,n){"function"==typeof r&&(n=r,r={}),r.flag||(r.flag="a"),f.writeFile(e,t,r,n)},f.truncate=function(e,t,r){m(e,{flag:"r+"},(function(e,r){f.ftruncate(e,t,r,"_nested_")}),r)},f.readdir=function(e,t){m(e,{flag:"\\r"},(function(e,t){f._readdir(e,t,"_nested_")}),t)},f.mkdir=function(e,t,r){"function"==typeof t&&(r=t,t=511),m(e,{flag:"\\wx"},(function(e,t){f._mkdir(e,t,"_nested_")}),r)},f.utimes=function(e,t,r,n){m(e,{flag:"r+"},(function(e,n){f.futimes(e,t,r,n,"_nested_")}),n)},f.chmod=f.lchmod=function(e,t,r){m(e,{flag:"\\r+"},(function(e,r){f.fchmod(e,t,r,"_nested_")}),r)},f.chown=f.lchown=function(e,t,r,n){m(e,{flag:"\\r+"},(function(e,n){f.fchown(e,t,r,n,"_nested_")}),n)},f.link=function(e,t,r){u.delayedCall(r,a.err.NOSYS())},f.symlink=function(e,t,r,n){"function"==typeof r&&(n=r,r=null),u.delayedCall(n,a.err.NOSYS())},f.readlink=function(e,t){m(e,{flag:"\\r"},(function(e,t){t(a.err.INVAL())}),t)},f.realpath=function(e,t,r){"function"==typeof t&&(r=t,t=null),t?u.delayedCall(r,a.err.NOSYS()):m(e,{flag:"\\r"},(function(t,r){r(null,u.absolutePath(e))}),r)},f.fchown=function(e,t,r,n,i){n=p(n,(function(){const t=y[e];t&&t.flags.write?u.delayedCall(n,a.err.NOSYS()):u.delayedCall(n,a.err.BADF())}),"_nested_"===i)},f}},140:(e,t,r)=>{const n=r(952),i=r(674),o=n.struct([n.byte("jmpBoot",3),n.char("OEMName",8),n.uint16le("BytsPerSec"),n.uint8("SecPerClus"),n.uint16le("ResvdSecCnt"),n.uint8("NumFATs"),n.uint16le("RootEntCnt"),n.uint16le("TotSec16"),n.uint8("Media"),n.uint16le("FATSz16"),n.uint16le("SecPerTrk"),n.uint16le("NumHeads"),n.uint32le("HiddSec"),n.uint32le("TotSec32")]),s=n.struct([n.uint8("DrvNum"),n.uint8("Reserved1"),n.uint8("BootSig"),n.uint32le("VolID"),n.char("VolLab",11),n.char("FilSysType",8)]);t.boot16=n.struct([o,s]),t.boot32=n.struct([o,n.uint32le("FATSz32"),n.struct("ExtFlags",[n.ubit("NumActiveFAT",4),n.ubit("_reserved1",3),n.bool("MirroredFAT"),n.ubit("_reserved2",8)].reverse()),n.struct("FSVer",[n.uint8("Major"),n.uint8("Minor")]),n.uint32le("RootClus"),n.uint16le("FSInfo"),n.uint16le("BkBootSec"),n.byte("Reserved",12),s]);const a=n.struct([n.ubit("hours",5),n.ubit("minutes",6),n.ubit("seconds_2",5)]),u={valueFromBytes:function(e,t){t||(t={bytes:0});const r=i.bufferFrom([e[t.bytes+1],e[t.bytes+0]]),n=a.valueFromBytes(r);return t.bytes+=this.size,n},bytesFromValue:function(e,t,r){e||(e={hours:0,minutes:0,seconds_2:0}),t||(t=i.allocBuffer(this.size)),r||(r={bytes:0});const n=a.bytesFromValue(e);return t[r.bytes+1]=n[0],t[r.bytes+0]=n[1],r.bytes+=this.size,t},size:a.size},l=n.struct([n.ubit("year",7),n.ubit("month",4),n.ubit("day",5)]),f={valueFromBytes:function(e,t){t||(t={bytes:0});const r=i.bufferFrom([e[t.bytes+1],e[t.bytes+0]]),n=l.valueFromBytes(r);return t.bytes+=this.size,n},bytesFromValue:function(e,t,r){e||(e={year:0,month:0,day:0}),t||(t=i.allocBuffer(this.size)),r||(r={bytes:0});const n=l.bytesFromValue(e);return t[r.bytes+1]=n[0],t[r.bytes+0]=n[1],r.bytes+=this.size,t},size:l.size};if(t.dirEntry=n.struct([n.struct("Name",[n.char("filename",8),n.char("extension",3)]),n.struct("Attr",[n.bool("readonly"),n.bool("hidden"),n.bool("system"),n.bool("volume_id"),n.bool("directory"),n.bool("archive"),n.ubit("reserved",2)].reverse()),n.byte("NTRes",1),n.uint8("CrtTimeTenth"),n.struct("CrtTime",[u]),n.struct("CrtDate",[f]),n.struct("LstAccDate",[f]),n.uint16le("FstClusHI"),n.struct("WrtTime",[u]),n.struct("WrtDate",[f]),n.uint16le("FstClusLO"),n.uint32le("FileSize")]),t.entryDoneFlag=0,t.entryFreeFlag=229,t.entryIsE5Flag=5,t.dirEntry_simple=n.struct([n.struct("Name",[n.char("filename",8),n.char("extension",3)]),n.padTo(t.dirEntry.size)]),t.lastLongFlag=64,t.longDirFlag=15,t.longDirEntry=n.struct([n.uint8("Ord"),n.char16le("Name1",10),n.uint8("Attr_raw"),n.uint8("Type"),n.uint8("Chksum"),n.char16le("Name2",12),n.uint16le("FstClusLO"),n.char16le("Name3",4)]),t.longDirEntry.size!==t.dirEntry.size)throw Error("Structs ain't right!");t.fatField={fat12:n.struct("Status",[n.ubit("field0bc",8),n.ubit("field1c",4),n.ubit("field0a",4),n.ubit("field1ab",8)]),fat16:n.uint16le("Status"),fat32:n.uint32le("Status")},t.fatPrefix={fat12:3840,fat16:65280,fat32:268435200},t.fatStat={free:0,_undef:1,rsvMin:240,bad:247,eofMin:248,eof:255},t._I={RUSR:256,WUSR:128,XUSR:64,RGRP:32,WGRP:16,XGRP:8,ROTH:4,WOTH:2,XOTH:1,SUID:2048,SGID:1024,SVTX:512,FDIR:16384,FREG:32768},t._I.RWXU=t._I.RUSR|t._I.WUSR|t._I.XUSR,t._I.RWXG=t._I.RGRP|t._I.WGRP|t._I.XGRP,t._I.RWXO=t._I.ROTH|t._I.WOTH|t._I.XOTH,t._I._sss=t._I.SUID|t._I.SGID|t._I.SVTX,t._I._chmoddable=t._I.RWXU|t._I.RWXG|t._I.RWXO|t._I._sss;const c={IO:"Input/output error",NOENT:"No such file or directory",INVAL:"Invalid argument",EXIST:"File exists",NAMETOOLONG:"Filename too long",NOSPC:"No space left on device",NOSYS:"Function not supported",ROFS:"ROFLCopter file system",NOTDIR:"Not a directory",BADF:"Bad file descriptor",EXIST:"File exists",ISDIR:"Is a directory",ACCES:"Permission denied",NOSYS:"Function not implemented",_TODO:"Not implemented yet!"};t.err={},Object.keys(c).forEach((function(e){const r=c[e];t.err[e]=function(){const t=new Error(r);return t.code=e,t}}))},435:(e,t,r)=>{const n=r(140),i=r(323),o=r(674);t.init=function(e,t,r){if(85!==r[510]||170!==r[511])throw Error("Invalid volume signature!");const s=r.readUInt16LE(n.boot16.fields.FATSz16.offset),a=(s?n.boot16:n.boot32).valueFromBytes(r);if(o.log(o.log.DBG,"Boot sector info:",a),r=null,!a.BytsPerSec)throw Error("This looks like an ExFAT volume! (unsupported)");if(a.BytsPerSec!==e.sectorSize)throw Error("Sector size mismatch with FAT table.");const u=s?a.FATSz16:a.FATSz32,l=Math.ceil(32*a.RootEntCnt/a.BytsPerSec),f=a.ResvdSecCnt+a.NumFATs*u+l,c=a.TotSec16?a.TotSec16:a.TotSec32,h=c-f,d=Math.floor(h/a.SecPerClus);if(c>e.numSectors)throw Error("Volume size mismatch!");let p;p=d<4085?"fat12":d<65525?"fat16":"fat32",o.log(o.log.DBG,"rootDirSectors",l,"firstDataSector",f,"countofClusters",d,"=>",p);const y={};function g(e){const t=n.fatField[p],r="fat12"===p?Math.floor(e/2)*t.size:e*t.size,i=a.ResvdSecCnt+Math.floor(r/a.BytsPerSec),o=r%a.BytsPerSec;return{sector:i-a.ResvdSecCnt,offset:o,struct:t}}y.opts=t,y._sectorSize=a.BytsPerSec,y._sectorsPerCluster=a.SecPerClus,y._firstSectorOfCluster=function(e){return f+(e-2)*y._sectorsPerCluster},y._readSectors=function(t,r,n){if("function"==typeof r&&(n=r,r=o.allocBuffer(y._sectorSize)),o.log(o.log.DBG,"vol._readSectors",t,r.length),!(t<e.numSectors))throw Error("Invalid sector number!");e.readSectors(t,r,(function(e){n(e,r)}))},y._writeSectors=function(r,n,i){if(o.log(o.log.DBG,"vol._writeSectors",r,n.length),n.length%e.sectorSize)throw Error("Buffer length not a multiple of sector size");if(t.ro)throw Error("Read-only filesystem");if(!(r<e.numSectors))throw Error("Invalid sector number!");e.writeSectors(r,n,i)};const b=i.sectorChain(y,a.ResvdSecCnt,u);return b.cacheAdvice="RANDOM",y.fetchFromFAT=function(e,t){const r=g(e);b.readFromPosition(r,r.struct.size,(function(i,o,s){if(i)return t(i);let a=r.struct.valueFromBytes(s);"fat12"===p?a=e%2?(a.field1ab<<4)+a.field1c:(a.field0a<<8)+a.field0bc:"fat32"===p&&(a&=268435455);var u=n.fatPrefix[p];a===n.fatStat.free?t(null,"free"):a===n.fatStat._undef?t(null,"-invalid-"):a>u+n.fatStat.eofMin?t(null,"eof"):a===u+n.fatStat.bad?t(null,"bad"):a>u+n.fatStat.rsvMin?t(null,"reserved"):t(null,a)}))},y.storeToFAT=function(e,t,r){"string"==typeof t&&(t=n.fatStat[t],t+=n.fatPrefix[p]);const i=g(e);if("fat12"===p)b.readFromPosition(i,i.struct.size,(function(n,o,s){const a=i.struct.valueFromBytes(s);e%2?(a.field1ab=t>>>4,a.field1c=15&t):(a.field0a=t>>>8,a.field0bc=255&t);const u=i.struct.bytesFromValue(a);b.writeToPosition(i,u,r)}));else{const e=i.struct.bytesFromValue(t);b.writeToPosition(i,e,r)}},y.allocateInFAT=function(e,t){"function"==typeof e&&(t=e,e=2),function e(t,r){t<d?y.fetchFromFAT(t,(function(n,i){n?r(n):"free"===i?r(null,t):e(t+1,r)})):r(n.err.NOSPC())}(e,(function(e,r){e?t(e):y.storeToFAT(r,"eof",t.bind(null,null,r))}))},y.rootDirectoryChain=s?i.sectorChain(y,f-l,l):i.clusterChain(y,a.RootClus),y.rootDirectoryChain.cacheAdvice="WILLNEED",y.chainForCluster=i.clusterChain.bind(i,y),y.chainFromJSON=function(e){return"numSectors"in e?i.sectorChain(y,e.firstSector,e.numSectors):i.clusterChain(y,e.firstCluster)},y}},361:()=>{},616:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(426),t=r(798),n=r(490),i=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const o=r(54);class s{constructor(e){this.fs=e}promisify(e,...t){return new Promise(((r,n)=>{e.call(this.fs,...t,((e,t)=>{e?n(e):r(t)}))}))}mkdir(e){return this.promisify(this.fs.mkdir,e)}readdir(e){return this.promisify(this.fs.readdir,e)}fopen(e,t,r){return this.promisify(this.fs.open,e,t,r)}fread(e,t,r,n,i){return this.promisify(this.fs.read,e,o(t),r,n,i)}fwrite(e,t,r,n,i){return this.promisify(this.fs.write,e,o(t),r,n,i)}fstat(e){return this.promisify(this.fs.fstat,e)}fclose(e){return this.promisify(this.fs.close,e)}stat(e){return i(this,void 0,void 0,(function*(){const t=yield this.fopen(e,"\\r",438).catch((e=>{if("NOENT"===e.code)return null;throw e}));if(null===t)return null;const r=yield this.fstat(t);return yield this.fclose(t),r}))}isdir(e){return i(this,void 0,void 0,(function*(){const t=yield this.stat(e);return null!==t&&t.isDirectory()}))}exists(e){return i(this,void 0,void 0,(function*(){return null!==(yield this.stat(e))}))}}window.createSockdriveFileSystem=function(r,n,o,a,u=(()=>{}),l=(()=>{})){return i(this,void 0,void 0,(function*(){const f={read:0,write:0,readTotalTime:0,cacheHit:0,cacheMiss:0,cacheUsed:0,io:[]},c=512,h={HEAPU8:new Uint8Array(c)};let d=null;const p=yield new Promise(((s,p)=>{d=new t.E(r,n,o,a,f,h),d.onOpen(((t,r,n)=>{const o={sectorSize:c,numSectors:n/c,readSectors:function(e,t,r){(()=>i(this,void 0,void 0,(function*(){e+=63;for(let n=0;n<t.length/c;++n){if(0!==d.read(e+n,0,!0)){const i=yield d.read(e+n,0,!1);if(0!==i)return void r(new Error("Read error, code: "+i),t)}t.set(h.HEAPU8.slice(0,c),n*c)}})))().then((()=>r(null,t))).catch((e=>r(e,t)))},writeSectors:function(e,t,r){e+=63;for(let n=0;n<t.length/c;++n)if(h.HEAPU8.set(t.slice(n*c,(n+1)*c),0),0!==d.write(e+n,0))return void r(new Error("Write error, code: 0"));r(null)}},a=(0,e.i)(o,{},((e,t)=>{"ready"===e?s(a):(console.error(e,t),p(t))}));u(t,r)})),d.onError(l)}));return{stats:f,fs:new s(p),close:()=>null==d?void 0:d.close()}}))},window.createFileSystem=e.i,window.Drive=t.E,window.Cache=n.C})()})();
//# sourceMappingURL=sockdriveFat.js.map